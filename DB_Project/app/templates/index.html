<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品列表</title>
</head>
<body>
    <h1>商品列表</h1>
    {% if session.get('user_name') %}
        <p>歡迎, {{ session['user_name'] }}!</p>
        <a href="{{ url_for('main.logout') }}">登出</a>
    {% else %}
        <a href="{{ url_for('main.login') }}">登錄</a>
        <a href="{{ url_for('main.register') }}">註冊</a>
    {% endif %}
    <a href="{{ url_for('main.cart') }}">查看購物車</a>
    <hr>
    <ul>
        {% for product in products %}
        <li>
            <h3>{{ product.name }}</h3>
            <p>{{ product.description }}</p>
            <p>價格: ${{ product.price }}</p>
            <p>庫存: {{ product.stock }}</p>
            <form action="{{ url_for('main.add_to_cart', product_id=product.id) }}" method="POST">
                <button type="submit">加入購物車</button>
            </form>
        </li>
        {% endfor %}
    </ul>
</body>
</html>
